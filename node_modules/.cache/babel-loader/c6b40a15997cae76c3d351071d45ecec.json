{"remainingRequest":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfoProject/src/components/categories/CultureList.vue?vue&type=template&id=5cef3969","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfoProject/src/components/categories/CultureList.vue","mtime":1634882853312},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js","mtime":1634882852296},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634882853220},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js","mtime":1634882853220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07Cgpjb25zdCBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAibXQtNSBtYi0zIgp9LCAiS3VsdHVyYSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJyb3cgZC1mbGV4IGZsZXgtcm93Igp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAicC0wIG10LTUgbGlzdC11bnN0eWxlZCIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X1RoZUhlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJUaGVIZWFkZXIiKTsKCiAgY29uc3QgX2NvbXBvbmVudF9SZXN1bHRJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIlJlc3VsdEl0ZW0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9UaGVIZWFkZXIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgX2hvaXN0ZWRfNCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmFydGljbGVzLCBhcnRpY2xlID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X1Jlc3VsdEl0ZW0sIHsKICAgICAga2V5OiBhcnRpY2xlLk5pZCwKICAgICAgaW5kZXg6IGFydGljbGUuTmlkLAogICAgICB0aXRsZTogYXJ0aWNsZS5OYXNsb3YsCiAgICAgIGZ1bGxEZXNjOiBhcnRpY2xlWydTYWRyemFqIMSNbGFua2EnXSwKICAgICAgaW1hZ2U6IGFydGljbGVbJ1ZvZGVjYSBzbGlrYSddLAogICAgICBkYXRlOiBhcnRpY2xlWydQb3N0IGRhdGUnXQogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJpbmRleCIsICJ0aXRsZSIsICJmdWxsRGVzYyIsICJpbWFnZSIsICJkYXRlIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfoProject/src/components/categories/CultureList.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;gCACT,mBAAA,CAAkC,IAAlC,EAAkC;AAA9B,EAAA,KAAK,EAAC;AAAwB,CAAlC,EAAsB,SAAtB,EAA6B,CAAA;AAAA;AAA7B,C;;;AACK,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;;;;;6DAJd,YAAA,CAAa,oBAAb,C,EACA,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdJ,UAcI,EAbJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAUK,IAVL,EAAA,UAAA,EAUK,E,kBATH,mBAAA,CAQE,SARF,EAQE,IARF,EAQE,WAAA,CAPkB,MAAA,CAAA,QAOlB,EAPO,OAAmB,IAAZ;yBADhB,YAAA,CAQE,qBARF,EAQE;AANC,MAAA,GAAG,EAAE,OAAO,CAAC,GAMd;AALC,MAAA,KAAK,EAAE,OAAO,CAAC,GAKhB;AAJC,MAAA,KAAK,EAAE,OAAO,CAAC,MAIhB;AAHC,MAAA,QAAQ,EAAE,OAAO,CAAA,gBAAA,CAGlB;AAFC,MAAA,KAAK,EAAE,OAAO,CAAA,cAAA,CAEf;AADC,MAAA,IAAI,EAAE,OAAO,CAAA,WAAA;AACd,KARF,E,IAAA,E;;AAAA,M,+CAAA,C;GAQE,CARF,E;;AAAA,GASG,EAVL,CAWI,CAZN,CAaI,CAfN,C","sourcesContent":["<template>\n  <TheHeader />\n  <div class=\"container\">\n    <h1 class=\"mt-5 mb-3\">Kultura</h1>\n    <div class=\"row d-flex flex-row\">\n      <ul class=\"p-0 mt-5 list-unstyled\">\n        <ResultItem\n          v-for=\"article in articles\"\n          :key=\"article.Nid\"\n          :index=\"article.Nid\"\n          :title=\"article.Naslov\"\n          :fullDesc=\"article['Sadrzaj članka']\"\n          :image=\"article['Vodeca slika']\"\n          :date=\"article['Post date']\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TheHeader from \"../UI/TheHeader.vue\";\nimport ResultItem from \"../results/ResultItem.vue\";\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    TheHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n    const store = useStore();\n    const page = ref(0);\n    const wait = ref(false);\n    const articles = computed(() => {\n      return store.getters.getCultures;\n    });\n\n    async function load() {\n      let scrollTop = window.scrollY;\n      let docHeight = document.body.offsetHeight;\n      let winHeight = window.innerHeight;\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      if (scrollPercent > 0.9 && !wait.value) {\n        page.value++;\n        wait.value = true;\n        await store.dispatch(\"loadCultureItems\", page.value);\n        wait.value = false;\n      }\n    }\n\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"scroll\", load);\n    });\n\n    onMounted(async function () {\n      window.addEventListener(\"scroll\", load);\n      store.dispatch(\"Reset\");\n      await store.dispatch(\"loadCultureItems\", page.value);\n    });\n\n    return {\n      articles,\n      load,\n    };\n  },\n};\n</script>"],"sourceRoot":""}]}