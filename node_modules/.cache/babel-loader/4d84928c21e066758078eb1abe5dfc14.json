{"remainingRequest":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/ZajednicaLatest.vue?vue&type=template&id=3680aad3","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/ZajednicaLatest.vue","mtime":1634910002380},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js","mtime":1634882852296},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634882853220},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js","mtime":1634882853220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07Cgpjb25zdCBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAibXQtNSBtYi0zIgp9LCAiWmFqZWRuaWNhIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInJvdyBkLWZsZXggZmxleC1yb3ciCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJwLTAgbXQtNSBsaXN0LXVuc3R5bGVkIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfU2Vjb25kYXJ5SGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoIlNlY29uZGFyeUhlYWRlciIpOwoKICBjb25zdCBfY29tcG9uZW50X1Jlc3VsdEl0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiUmVzdWx0SXRlbSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlY29uZGFyeUhlYWRlciksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCBfaG9pc3RlZF80LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuYXJ0aWNsZXMsIGFydGljbGUgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfUmVzdWx0SXRlbSwgewogICAgICBrZXk6IGFydGljbGUuTmlkLAogICAgICBpbmRleDogYXJ0aWNsZS5OaWQsCiAgICAgIHRpdGxlOiBhcnRpY2xlLk5hc2xvdiwKICAgICAgZnVsbERlc2M6IGFydGljbGVbJ1NhZHJ6YWogY2xhbmthJ10sCiAgICAgIGltYWdlOiBhcnRpY2xlWydWb2RlY2Egc2xpa2EnXSwKICAgICAgZGF0ZTogYXJ0aWNsZVsnUG9zdCBkYXRlJ10KICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsiaW5kZXgiLCAidGl0bGUiLCAiZnVsbERlc2MiLCAiaW1hZ2UiLCAiZGF0ZSJdKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSldKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/ZajednicaLatest.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;gCACT,mBAAA,CAAoC,IAApC,EAAoC;AAAhC,EAAA,KAAK,EAAC;AAA0B,CAApC,EAAsB,WAAtB,EAA+B,CAAA;AAAA;AAA/B,C;;;AACK,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;;;;;6DAJd,YAAA,CAAmB,0BAAnB,C,EACA,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdJ,UAcI,EAbJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAUK,IAVL,EAAA,UAAA,EAUK,E,kBATH,mBAAA,CAQE,SARF,EAQE,IARF,EAQE,WAAA,CAPkB,MAAA,CAAA,QAOlB,EAPO,OAAmB,IAAZ;yBADhB,YAAA,CAQE,qBARF,EAQE;AANC,MAAA,GAAG,EAAE,OAAO,CAAC,GAMd;AALC,MAAA,KAAK,EAAE,OAAO,CAAC,GAKhB;AAJC,MAAA,KAAK,EAAE,OAAO,CAAC,MAIhB;AAHC,MAAA,QAAQ,EAAE,OAAO,CAAA,gBAAA,CAGlB;AAFC,MAAA,KAAK,EAAE,OAAO,CAAA,cAAA,CAEf;AADC,MAAA,IAAI,EAAE,OAAO,CAAA,WAAA;AACd,KARF,E,IAAA,E;;AAAA,M,+CAAA,C;GAQE,CARF,E;;AAAA,GASG,EAVL,CAWI,CAZN,CAaI,CAfN,C","sourcesContent":["<template>\n  <SecondaryHeader />\n  <div class=\"container\">\n    <h1 class=\"mt-5 mb-3\">Zajednica</h1>\n    <div class=\"row d-flex flex-row\">\n      <ul class=\"p-0 mt-5 list-unstyled\">\n        <ResultItem\n          v-for=\"article in articles\"\n          :key=\"article.Nid\"\n          :index=\"article.Nid\"\n          :title=\"article.Naslov\"\n          :fullDesc=\"article['Sadrzaj clanka']\"\n          :image=\"article['Vodeca slika']\"\n          :date=\"article['Post date']\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SecondaryHeader from \"../UI/SecondaryHeader.vue\";\nimport ResultItem from \"../results/ResultItem.vue\";\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    SecondaryHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n    const store = useStore();\n    const page = ref(0);\n    const wait = ref(false);\n    const articles = computed(() => {\n      return store.getters.getZajednica;\n    });\n\n    async function load() {\n      let scrollTop = window.scrollY;\n      let docHeight = document.body.offsetHeight;\n      let winHeight = window.innerHeight;\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      if (scrollPercent > 0.9 && !wait.value) {\n        page.value++;\n        wait.value = true;\n        await store.dispatch(\"loadZajednicaItems\", page.value);\n        wait.value = false;\n      }\n    }\n\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"scroll\", load);\n    });\n\n    onMounted(async function () {\n      window.addEventListener(\"scroll\", load);\n      store.dispatch(\"Reset\");\n      await store.dispatch(\"loadZajednicaItems\", page.value);\n    });\n\n    return {\n      articles,\n      load,\n    };\n  },\n};\n</script>"],"sourceRoot":""}]}