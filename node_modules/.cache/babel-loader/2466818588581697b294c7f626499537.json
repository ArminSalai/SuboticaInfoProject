{"remainingRequest":"/home/icbtech/Documents/SuboticaInfo/node_modules/babel-loader/lib/index.js!/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfo/src/components/pages/CategoryAll.vue?vue&type=template&id=cbea8410","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfo/src/components/pages/CategoryAll.vue","mtime":1634295457760},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/babel-loader/lib/index.js","mtime":1633932887491},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1633932889215},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js","mtime":1633932888403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAibXQtNSBtYi0zIgp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicm93IGQtZmxleCBmbGV4LXJvdyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInAtMCBtdC01IGxpc3QtdW5zdHlsZWQiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9UaGVIZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGhlSGVhZGVyIik7CgogIGNvbnN0IF9jb21wb25lbnRfUmVzdWx0SXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJSZXN1bHRJdGVtIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfVGhlSGVhZGVyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgX2hvaXN0ZWRfMiwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuY2F0ZWdvcnkudG9VcHBlckNhc2UoKSksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgX2hvaXN0ZWRfNCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmFydGljbGVzLCBhcnRpY2xlID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X1Jlc3VsdEl0ZW0sIHsKICAgICAga2V5OiBhcnRpY2xlLk5pZCwKICAgICAgaW5kZXg6IGFydGljbGUuTmlkLAogICAgICB0aXRsZTogYXJ0aWNsZS5OYXNsb3YsCiAgICAgIGZ1bGxEZXNjOiBhcnRpY2xlWydTYWRyemFqIGNsYW5rYSddLAogICAgICBpbWFnZTogYXJ0aWNsZVsnVm9kZWNhIHNsaWthJ10sCiAgICAgIGRhdGU6IGFydGljbGVbJ1Bvc3QgZGF0ZSddCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbImluZGV4IiwgInRpdGxlIiwgImZ1bGxEZXNjIiwgImltYWdlIiwgImRhdGUiXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0pXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfo/src/components/pages/CategoryAll.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;;;;;6DAJd,YAAA,CAAa,oBAAb,C,EACA,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdJ,mBAAA,CAAuD,IAAvD,EAAA,UAAA,EAAuD,gBAAA,CAA9B,MAAA,CAAA,QAAA,CAAS,WAAT,EAA8B,CAAvD,EAA6C;AAAA;AAA7C,GAcI,EAbJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAUK,IAVL,EAAA,UAAA,EAUK,E,kBATH,mBAAA,CAQE,SARF,EAQE,IARF,EAQE,WAAA,CAPkB,MAAA,CAAA,QAOlB,EAPO,OAAmB,IAAZ;yBADhB,YAAA,CAQE,qBARF,EAQE;AANC,MAAA,GAAG,EAAE,OAAO,CAAC,GAMd;AALC,MAAA,KAAK,EAAE,OAAO,CAAC,GAKhB;AAJC,MAAA,KAAK,EAAE,OAAO,CAAC,MAIhB;AAHC,MAAA,QAAQ,EAAE,OAAO,CAAA,gBAAA,CAGlB;AAFC,MAAA,KAAK,EAAE,OAAO,CAAA,cAAA,CAEf;AADC,MAAA,IAAI,EAAE,OAAO,CAAA,WAAA;AACd,KARF,E,IAAA,E;;AAAA,M,+CAAA,C;GAQE,CARF,E;;AAAA,GASG,EAVL,CAWI,CAZN,CAaI,CAfN,C","sourcesContent":["<template>\n  <TheHeader />\n  <div class=\"container\">\n    <h1 class=\"mt-5 mb-3\">{{ category.toUpperCase() }}</h1>\n    <div class=\"row d-flex flex-row\">\n      <ul class=\"p-0 mt-5 list-unstyled\">\n        <ResultItem\n          v-for=\"article in articles\"\n          :key=\"article.Nid\"\n          :index=\"article.Nid\"\n          :title=\"article.Naslov\"\n          :fullDesc=\"article['Sadrzaj clanka']\"\n          :image=\"article['Vodeca slika']\"\n          :date=\"article['Post date']\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TheHeader from \"../UI/TheHeader.vue\";\nimport ResultItem from \"../search/ResultItem.vue\";\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    TheHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n    const store = useStore();\n    const route = useRoute();\n    const category = route.params.Category;\n    const page = ref(0);\n    const wait = ref(false);\n    const articles = computed(() => {\n      return store.getters.getArticles;\n    });\n\n    async function load() {\n      let scrollTop = window.scrollY;\n      let docHeight = document.body.offsetHeight;\n      let winHeight = window.innerHeight;\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      if (scrollPercent > 0.9 && !wait.value) {\n        page.value++;\n        wait.value = true;\n        await store.dispatch(\"loadCategoryItems\", {\n          category: category,\n          page: page.value,\n        });\n      wait.value = false;\n      }\n    }\n\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"scroll\", load);\n    });\n\n    onMounted(async function () {\n      window.addEventListener(\"scroll\", load);\n      store.dispatch(\"Reset\");\n      await store.dispatch(\"loadCategoryItems\", {\n        category: category,\n        page: page.value,\n      });\n    });\n\n    return {\n      category,\n      articles,\n      load,\n    };\n  },\n};\n</script>"],"sourceRoot":""}]}