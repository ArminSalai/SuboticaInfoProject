{"remainingRequest":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/PressList.vue?vue&type=template&id=284a39d2","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/PressList.vue","mtime":1634911041858},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js","mtime":1634882852296},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1634882853220},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js","mtime":1634882853220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07Cgpjb25zdCBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAibXQtNSBtYi0zIgp9LCAiUHJlc3MiLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicm93IGQtZmxleCBmbGV4LXJvdyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInAtMCBtdC01IGxpc3QtdW5zdHlsZWQiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9TZWNvbmRhcnlIZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2Vjb25kYXJ5SGVhZGVyIik7CgogIGNvbnN0IF9jb21wb25lbnRfUmVzdWx0SXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJSZXN1bHRJdGVtIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2Vjb25kYXJ5SGVhZGVyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ1bCIsIF9ob2lzdGVkXzQsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5hcnRpY2xlcywgYXJ0aWNsZSA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9SZXN1bHRJdGVtLCB7CiAgICAgIGtleTogYXJ0aWNsZS5OaWQsCiAgICAgIGluZGV4OiBhcnRpY2xlLk5pZCwKICAgICAgdGl0bGU6IGFydGljbGUuTmFzbG92LAogICAgICBmdWxsRGVzYzogYXJ0aWNsZVsnU2FkcnphaiBjbGFua2EnXSwKICAgICAgaW1hZ2U6IGFydGljbGVbJ1ZvZGVjYSBzbGlrYSddLAogICAgICBkYXRlOiBhcnRpY2xlWydQb3N0IGRhdGUnXQogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJpbmRleCIsICJ0aXRsZSIsICJmdWxsRGVzYyIsICJpbWFnZSIsICJkYXRlIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfoProject/src/components/secondaryPages/PressList.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;gCACT,mBAAA,CAAgC,IAAhC,EAAgC;AAA5B,EAAA,KAAK,EAAC;AAAsB,CAAhC,EAAsB,OAAtB,EAA2B,CAAA;AAAA;AAA3B,C;;;AACK,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;;;;;6DAJd,YAAA,CAAmB,0BAAnB,C,EACA,mBAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdJ,UAcI,EAbJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAUK,IAVL,EAAA,UAAA,EAUK,E,kBATH,mBAAA,CAQE,SARF,EAQE,IARF,EAQE,WAAA,CAPkB,MAAA,CAAA,QAOlB,EAPO,OAAmB,IAAZ;yBADhB,YAAA,CAQE,qBARF,EAQE;AANC,MAAA,GAAG,EAAE,OAAO,CAAC,GAMd;AALC,MAAA,KAAK,EAAE,OAAO,CAAC,GAKhB;AAJC,MAAA,KAAK,EAAE,OAAO,CAAC,MAIhB;AAHC,MAAA,QAAQ,EAAE,OAAO,CAAA,gBAAA,CAGlB;AAFC,MAAA,KAAK,EAAE,OAAO,CAAA,cAAA,CAEf;AADC,MAAA,IAAI,EAAE,OAAO,CAAA,WAAA;AACd,KARF,E,IAAA,E;;AAAA,M,+CAAA,C;GAQE,CARF,E;;AAAA,GASG,EAVL,CAWI,CAZN,CAaI,CAfN,C","sourcesContent":["<template>\n  <SecondaryHeader />\n  <div class=\"container\">\n    <h1 class=\"mt-5 mb-3\">Press</h1>\n    <div class=\"row d-flex flex-row\">\n      <ul class=\"p-0 mt-5 list-unstyled\">\n        <ResultItem\n          v-for=\"article in articles\"\n          :key=\"article.Nid\"\n          :index=\"article.Nid\"\n          :title=\"article.Naslov\"\n          :fullDesc=\"article['Sadrzaj clanka']\"\n          :image=\"article['Vodeca slika']\"\n          :date=\"article['Post date']\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SecondaryHeader from \"../UI/SecondaryHeader.vue\";\nimport ResultItem from \"../results/ResultItem.vue\";\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    SecondaryHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n    const store = useStore();\n    const page = ref(0);\n    const wait = ref(false);\n    const articles = computed(() => {\n      return store.getters.getPress;\n    });\n\n    async function load() {\n      let scrollTop = window.scrollY;\n      let docHeight = document.body.offsetHeight;\n      let winHeight = window.innerHeight;\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      if (scrollPercent > 0.9 && !wait.value) {\n        page.value++;\n        wait.value = true;\n        await store.dispatch(\"loadPressItems\", page.value);\n        wait.value = false;\n      }\n    }\n\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"scroll\", load);\n    });\n\n    onMounted(async function () {\n      window.addEventListener(\"scroll\", load);\n      store.dispatch(\"Reset\");\n      await store.dispatch(\"loadIntervjuItems\", page.value);\n    });\n\n    return {\n      articles,\n      load,\n    };\n  },\n};\n</script>"],"sourceRoot":""}]}