{"remainingRequest":"/home/icbtech/Documents/SuboticaInfo/node_modules/babel-loader/lib/index.js!/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfo/src/components/pages/LatestList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfo/src/components/pages/LatestList.vue","mtime":1634285879866},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/babel-loader/lib/index.js","mtime":1633932887491},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js","mtime":1633932888403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFRoZUhlYWRlciBmcm9tICIuLi9VSS9UaGVIZWFkZXIudnVlIjsKaW1wb3J0IFJlc3VsdEl0ZW0gZnJvbSAiLi4vc2VhcmNoL1Jlc3VsdEl0ZW0udnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgcmVmLCBjb21wdXRlZCwgb25Nb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZ3NhcCB9IGZyb20gImdzYXAiOwppbXBvcnQgeyBTY3JvbGxUb1BsdWdpbiB9IGZyb20gImdzYXAvU2Nyb2xsVG9QbHVnaW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGhlSGVhZGVyLAogICAgUmVzdWx0SXRlbQogIH0sCgogIHNldHVwKCkgewogICAgZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUb1BsdWdpbik7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCBwYWdlID0gcmVmKDApOwogICAgY29uc3QgbnVtcyA9IHJlZihbMSwgMiwgMywgNCwgNSwgNiwgN10pOwogICAgY29uc3QgbmV3cyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuZ2V0QXJ0aWNsZXM7CiAgICB9KTsKCiAgICBhc3luYyBmdW5jdGlvbiBzY3JvbGxlZCgpIHsKICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goInNldExhdGVzdCIsIHBhZ2UudmFsdWUpOwogICAgICBhd2FpdCBnZXRMYXRlc3QocGFnZS52YWx1ZSk7CgogICAgICBpZiAocGFnZS52YWx1ZSA+IDMgJiYgcGFnZS52YWx1ZSA8IDQ0NjIpIHsKICAgICAgICBudW1zLnZhbHVlID0gWy4uLkFycmF5KDcpLmtleXMoKV0ubWFwKGkgPT4gaSArIHBhZ2UudmFsdWUgLSAzKTsKICAgICAgfSBlbHNlIGlmIChwYWdlLnZhbHVlID4gNDQ2MykgewogICAgICAgIG51bXMudmFsdWUgPSBbLi4uQXJyYXkoNykua2V5cygpXS5tYXAoaSA9PiBpICsgNDQ1OSk7CiAgICAgIH0gZWxzZSBpZiAocGFnZS52YWx1ZSA8IDMpIHsKICAgICAgICBudW1zLnZhbHVlID0gWzEsIDIsIDMsIDQsIDUsIDYsIDddOwogICAgICB9CgogICAgICBnc2FwLnRvKHdpbmRvdywgewogICAgICAgIGR1cmF0aW9uOiAwLjIsCiAgICAgICAgc2Nyb2xsVG86IDAKICAgICAgfSk7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gcHJldigpIHsKICAgICAgaWYgKHBhZ2UudmFsdWUgPiAwKSB7CiAgICAgICAgcGFnZS52YWx1ZS0tOwogICAgICAgIHNjcm9sbGVkKCk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBuZXh0KCkgewogICAgICBwYWdlLnZhbHVlKys7CiAgICAgIHNjcm9sbGVkKCk7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICBwYWdlLnZhbHVlID0gdmFsOwogICAgICBzY3JvbGxlZCgpOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGZpcnN0KCkgewogICAgICBwYWdlLnZhbHVlID0gMDsKICAgICAgc2Nyb2xsZWQoKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBsYXN0KCkgewogICAgICBwYWdlLnZhbHVlID0gNDQ2NTsKICAgICAgc2Nyb2xsZWQoKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRMYXRlc3QocGFnZSkgewogICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaCgic2V0TGF0ZXN0IiwgcGFnZSk7CiAgICB9CgogICAgb25Nb3VudGVkKGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgYXdhaXQgZ2V0TGF0ZXN0KHBhZ2UudmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBuZXdzLAogICAgICBwcmV2LAogICAgICBuZXh0LAogICAgICBudW1zLAogICAgICBwYWdlLAogICAgICBzZXQsCiAgICAgIGZpcnN0LAogICAgICBsYXN0CiAgICB9OwogIH0KCn07"},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfo/src/components/pages/LatestList.vue"],"names":[],"mappings":"AAwDA,OAAO,SAAP,MAAsB,qBAAtB;AACA,OAAO,UAAP,MAAuB,0BAAvB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,GAAT,EAAc,QAAd,EAAwB,SAAxB,QAAyC,KAAzC;AACA,SAAS,IAAT,QAAqB,MAArB;AACA,SAAS,cAAT,QAA+B,qBAA/B;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SADU;AAEV,IAAA;AAFU,GADC;;AAKb,EAAA,KAAK,GAAG;AACN,IAAA,IAAI,CAAC,cAAL,CAAoB,cAApB;AAEA,UAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,UAAM,IAAG,GAAI,GAAG,CAAC,CAAD,CAAhB;AACA,UAAM,IAAG,GAAI,GAAG,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAD,CAAhB;AAEA,UAAM,IAAG,GAAI,QAAQ,CAAC,MAAM;AAC1B,aAAO,KAAK,CAAC,OAAN,CAAc,WAArB;AACD,KAFoB,CAArB;;AAIA,mBAAe,QAAf,GAA0B;AACxB,YAAM,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,IAAI,CAAC,KAAjC,CAAN;AACA,YAAM,SAAS,CAAC,IAAI,CAAC,KAAN,CAAf;;AACA,UAAG,IAAI,CAAC,KAAL,GAAa,CAAb,IAAkB,IAAI,CAAC,KAAL,GAAa,IAAlC,EAAwC;AACtC,QAAA,IAAI,CAAC,KAAL,GAAa,CAAC,GAAG,KAAK,CAAC,CAAD,CAAL,CAAS,IAAT,EAAJ,EAAqB,GAArB,CAAyB,CAAA,IAAK,CAAA,GAAI,IAAI,CAAC,KAAT,GAAiB,CAA/C,CAAb;AACF,OAFA,MAGK,IAAG,IAAI,CAAC,KAAL,GAAa,IAAhB,EAAsB;AACzB,QAAA,IAAI,CAAC,KAAL,GAAa,CAAC,GAAG,KAAK,CAAC,CAAD,CAAL,CAAS,IAAT,EAAJ,EAAqB,GAArB,CAAyB,CAAA,IAAK,CAAA,GAAI,IAAlC,CAAb;AACF,OAFK,MAGA,IAAG,IAAI,CAAC,KAAL,GAAa,CAAhB,EAAmB;AACtB,QAAA,IAAI,CAAC,KAAL,GAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAb;AACF;;AACA,MAAA,IAAI,CAAC,EAAL,CAAQ,MAAR,EAAgB;AAAE,QAAA,QAAQ,EAAE,GAAZ;AAAiB,QAAA,QAAQ,EAAE;AAA3B,OAAhB;AACF;;AAEA,mBAAe,IAAf,GAAsB;AACpB,UAAI,IAAI,CAAC,KAAL,GAAa,CAAjB,EAAoB;AAClB,QAAA,IAAI,CAAC,KAAL;AACA,QAAA,QAAQ;AACV;AACF;;AAEA,mBAAe,IAAf,GAAsB;AACpB,MAAA,IAAI,CAAC,KAAL;AACA,MAAA,QAAQ;AACV;;AAEA,mBAAe,GAAf,CAAmB,GAAnB,EAAwB;AACtB,MAAA,IAAI,CAAC,KAAL,GAAa,GAAb;AACA,MAAA,QAAQ;AACV;;AAEA,mBAAe,KAAf,GAAuB;AACrB,MAAA,IAAI,CAAC,KAAL,GAAa,CAAb;AACA,MAAA,QAAQ;AACV;;AAEA,mBAAe,IAAf,GAAsB;AACpB,MAAA,IAAI,CAAC,KAAL,GAAa,IAAb;AACA,MAAA,QAAQ;AACV;;AAEA,mBAAe,SAAf,CAAyB,IAAzB,EAA+B;AAC7B,YAAM,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,IAA5B,CAAN;AACF;;AAEA,IAAA,SAAS,CAAC,kBAAkB;AAC1B,YAAM,SAAS,CAAC,IAAI,CAAC,KAAN,CAAf;AACD,KAFQ,CAAT;AAIA,WAAO;AACL,MAAA,IADK;AAEL,MAAA,IAFK;AAGL,MAAA,IAHK;AAIL,MAAA,IAJK;AAKL,MAAA,IALK;AAML,MAAA,GANK;AAOL,MAAA,KAPK;AAQL,MAAA;AARK,KAAP;AAUD;;AA7EY,CAAf","sourcesContent":["<template>\n  <div>\n    <TheHeader />\n    <section>\n      <div class=\"container\">\n        <ul class=\"list-unstyled mt-5\">\n          <ResultItem\n            v-for=\"latestItem in news\"\n            :key=\"latestItem.Nid\"\n            :index=\"latestItem.Nid\"\n            :title=\"latestItem.Naslov\"\n            :fullDesc=\"latestItem['Sadrzaj clanka']\"\n            :image=\"latestItem['Vodeca slika']\"\n            :date=\"latestItem['Post date']\"\n          />\n        </ul>\n\n        <div class=\"input-group mb-3\">\n          <button\n            class=\"btn btn-dark text-light pt-2\"\n            @click=\"first\"\n            type=\"button\"\n          >\n            Prva\n          </button>\n          <button\n            class=\"btn btn-dark text-light pt-2\"\n            @click=\"prev\"\n            type=\"button\"\n          >\n            Predhodna\n          </button>\n          <button v-for=\"num in nums\" :key=\"num\" @click=\"set(num)\" class=\"btn btn-outline-secondary pt-2\" :class=\"num == page? 'active': ''\" type=\"button\">\n            {{ num }}\n          </button>\n          <button\n            class=\"btn btn-dark text-light pt-2\"\n            @click=\"next\"\n            type=\"button\"\n          >\n            IduÄ‡a\n          </button>\n          <button\n            class=\"btn btn-dark text-light pt-2\"\n            @click=\"last\"\n            type=\"button\"\n          >\n            Poslednja\n          </button>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport TheHeader from \"../UI/TheHeader.vue\";\nimport ResultItem from \"../search/ResultItem.vue\"\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    TheHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n\n    const store = useStore();\n\n    const page = ref(0);\n    const nums = ref([1, 2, 3, 4, 5, 6, 7]);\n\n    const news = computed(() => {\n      return store.getters.getArticles;\n    });\n\n    async function scrolled() {\n      await store.dispatch(\"setLatest\", page.value);\n      await getLatest(page.value);\n      if(page.value > 3 && page.value < 4462) {\n        nums.value = [...Array(7).keys()].map(i => i + page.value - 3);\n      }\n      else if(page.value > 4463) {\n        nums.value = [...Array(7).keys()].map(i => i + 4459);\n      }\n      else if(page.value < 3) {\n        nums.value = [1, 2, 3, 4, 5, 6, 7];\n      }\n      gsap.to(window, { duration: 0.2, scrollTo: 0 });\n    }\n\n    async function prev() {\n      if (page.value > 0) {\n        page.value--;\n        scrolled();\n      }\n    }\n\n    async function next() {\n      page.value++;\n      scrolled();\n    }\n\n    async function set(val) {\n      page.value = val;\n      scrolled();\n    }\n\n    async function first() {\n      page.value = 0;\n      scrolled();\n    }\n\n    async function last() {\n      page.value = 4465;\n      scrolled();\n    }\n\n    async function getLatest(page) {\n      await store.dispatch(\"setLatest\", page);\n    }\n\n    onMounted(async function () {\n      await getLatest(page.value);\n    });\n\n    return {\n      news,\n      prev,\n      next,\n      nums,\n      page,\n      set,\n      first,\n      last\n    };\n  },\n};\n</script>"],"sourceRoot":""}]}