{"remainingRequest":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfo/src/components/sport/SportList.vue?vue&type=template&id=3847cbd7","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfo/src/components/sport/SportList.vue","mtime":1634303788683},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/babel-loader/lib/index.js","mtime":1633932887491},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1633932889215},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/cache-loader/dist/cjs.js","mtime":1633932885843},{"path":"/home/icbtech/Documents/SuboticaInfo/node_modules/vue-loader-v16/dist/index.js","mtime":1633932888403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPFRoZUhlYWRlciAvPgogIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICA8aDEgY2xhc3M9Im10LTUgbWItMyI+U3BvcnQ8L2gxPgogICAgPGRpdiBjbGFzcz0icm93IGQtZmxleCBmbGV4LXJvdyI+CiAgICAgIDx1bCBjbGFzcz0icC0wIG10LTUgbGlzdC11bnN0eWxlZCI+CiAgICAgICAgPFJlc3VsdEl0ZW0KICAgICAgICAgIHYtZm9yPSJhcnRpY2xlIGluIGFydGljbGVzIgogICAgICAgICAgOmtleT0iYXJ0aWNsZS5OaWQiCiAgICAgICAgICA6aW5kZXg9ImFydGljbGUuTmlkIgogICAgICAgICAgOnRpdGxlPSJhcnRpY2xlLk5hc2xvdiIKICAgICAgICAgIDpmdWxsRGVzYz0iYXJ0aWNsZVsnU2FkcnphaiBjbGFua2EnXSIKICAgICAgICAgIDppbWFnZT0iYXJ0aWNsZVsnVm9kZWNhIHNsaWthJ10iCiAgICAgICAgICA6ZGF0ZT0iYXJ0aWNsZVsnUG9zdCBkYXRlJ10iCiAgICAgICAgLz4KICAgICAgPC91bD4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfo/src/components/sport/SportList.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACZ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC;MACH,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/icbtech/Documents/SuboticaInfo/src/components/sport/SportList.vue","sourceRoot":"","sourcesContent":["<template>\n  <TheHeader />\n  <div class=\"container\">\n    <h1 class=\"mt-5 mb-3\">Sport</h1>\n    <div class=\"row d-flex flex-row\">\n      <ul class=\"p-0 mt-5 list-unstyled\">\n        <ResultItem\n          v-for=\"article in articles\"\n          :key=\"article.Nid\"\n          :index=\"article.Nid\"\n          :title=\"article.Naslov\"\n          :fullDesc=\"article['Sadrzaj clanka']\"\n          :image=\"article['Vodeca slika']\"\n          :date=\"article['Post date']\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TheHeader from \"../UI/TheHeader.vue\";\nimport ResultItem from \"../search/ResultItem.vue\";\nimport { useStore } from \"vuex\";\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\n\nexport default {\n  components: {\n    TheHeader,\n    ResultItem,\n  },\n  setup() {\n    gsap.registerPlugin(ScrollToPlugin);\n    const store = useStore();\n    const page = ref(0);\n    const wait = ref(false);\n    const articles = computed(() => {\n      return store.getters.getSports;\n    });\n\n    async function load() {\n      let scrollTop = window.scrollY;\n      let docHeight = document.body.offsetHeight;\n      let winHeight = window.innerHeight;\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      if (scrollPercent > 0.9 && !wait.value) {\n        page.value++;\n        wait.value = true;\n        await store.dispatch(\"loadSportItems\", page.value);\n      wait.value = false;\n      }\n    }\n\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"scroll\", load);\n    });\n\n    onMounted(async function () {\n      window.addEventListener(\"scroll\", load);\n      store.dispatch(\"Reset\");\n      await store.dispatch(\"loadSportItems\", page.value);\n    });\n\n    return {\n      category,\n      articles,\n      load,\n    };\n  },\n};\n</script>"]}]}