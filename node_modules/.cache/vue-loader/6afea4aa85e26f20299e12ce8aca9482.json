{"remainingRequest":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/icbtech/Documents/SuboticaInfoProject/src/components/article/CommentItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/icbtech/Documents/SuboticaInfoProject/src/components/article/CommentItem.vue","mtime":1634903525932},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/babel-loader/lib/index.js","mtime":1634882852296},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/cache-loader/dist/cjs.js","mtime":1634882852328},{"path":"/home/icbtech/Documents/SuboticaInfoProject/node_modules/vue-loader-v16/dist/index.js","mtime":1634882853220}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNvbXB1dGVkLCBvbk1vdW50ZWQsIHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJ1c2VybmFtZSIsICJjb21tZW50IiwgImxpa2VkQnkiLCAiZGlzbGlrZWRCeSIsICJpZCJdLAogIHNldHVwKHByb3BzKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICBjb25zdCBsaWtlQ291bnQgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBwcm9wcy5saWtlZEJ5Lmxlbmd0aCAtIDE7CiAgICB9KTsKICAgIGNvbnN0IGRpc2xpa2VDb3VudCA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHByb3BzLmRpc2xpa2VkQnkubGVuZ3RoIC0gMTsKICAgIH0pOwogICAgY29uc3QgUHJvZmlsZUxldHRlciA9IHJlZihwcm9wcy51c2VybmFtZSk7CiAgICBQcm9maWxlTGV0dGVyLnZhbHVlID0gUHJvZmlsZUxldHRlci52YWx1ZVswXS50b1VwcGVyQ2FzZSgpOwoKICAgIAogICAgY29uc3QgbGlrZWQgPSByZWYoZmFsc2UpOwogICAgCiAgICBhc3luYyBmdW5jdGlvbiBsaWtlQ29tbWVudCgpIHsKICAgICAgaWYoc3RvcmUuZ2V0dGVycy5nZXRVc2VyTmFtZSA9PSAiIikgewogICAgICAgIGFsZXJ0KCJQbGVhc2UgdHJ5IGxvZ2dpbmcgaW4gZmlyc3QiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goImxpa2VDb21tZW50IiwgcHJvcHMuaWQpOwogICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaCgibG9hZENvbW1lbnRzIiwgcm91dGUucGFyYW1zLk5pZCk7CiAgICB9CgogICAgY29uc3QgZGlzbGlrZWQgPSByZWYoZmFsc2UpOwoKICAgIGFzeW5jIGZ1bmN0aW9uIGRpc2xpa2VDb21tZW50KCkgewogICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldFVzZXJOYW1lID09ICIiKSB7CiAgICAgICAgYWxlcnQoIlBsZWFzZSB0cnkgbG9nZ2luZyBpbiBmaXJzdCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaCgiZGlzbGlrZUNvbW1lbnQiLCBwcm9wcy5pZCk7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJsb2FkQ29tbWVudHMiLCByb3V0ZS5wYXJhbXMuTmlkKTsKICAgIH0KCiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBpZihwcm9wcy5saWtlZEJ5LmZpbmQobEIgPT4gbEIgPT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpKSAhPSB1bmRlZmluZWQpCiAgICAgICAgbGlrZWQudmFsdWUgPSB0cnVlOwogICAgICBpZihwcm9wcy5kaXNsaWtlZEJ5LmZpbmQobEIgPT4gbEIgPT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpKSAhPSB1bmRlZmluZWQpCiAgICAgICAgZGlzbGlrZWQudmFsdWUgPSB0cnVlOwogICAgfSkKCiAgICByZXR1cm4gewogICAgICBQcm9maWxlTGV0dGVyLAogICAgICBsaWtlQ29tbWVudCwKICAgICAgbGlrZUNvdW50LAogICAgICBkaXNsaWtlQ291bnQsCiAgICAgIGRpc2xpa2VDb21tZW50LAogICAgICBsaWtlZCwKICAgICAgZGlzbGlrZWQKICAgIH07CiAgfSwKfTsK"},{"version":3,"sources":["/home/icbtech/Documents/SuboticaInfoProject/src/components/article/CommentItem.vue"],"names":[],"mappings":"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","file":"/home/icbtech/Documents/SuboticaInfoProject/src/components/article/CommentItem.vue","sourceRoot":"","sourcesContent":["<template>\n  <li class=\"p-4\">\n    <div class=\"row\">\n      <div class=\"col-2 d-flex justify-content-center align-items-center\">\n        <span\n          class=\"\n            bg-danger\n            profilePic\n            pt-2\n          \"\n          >{{ ProfileLetter }}</span\n        >\n      </div>\n      <div class=\"col-8 d-flex flex-column\">\n        <h4 class=\"text-secondary\">{{ username }}</h4>\n        <p class=\"text-light\">\n          {{ comment }}\n        </p>\n      </div>\n      <div class=\"col d-flex flex-column justify-content-center\">\n        <div class=\"likeButton mb-2\" alt=\"like\" :class=\"liked?'bg-danger' : ''\" @click=\"likeComment\"></div>\n        <p class=\"likeText\" :class=\"liked?'text-danger' : 'text-light'\" v-if=\"likeCount\">{{ likeCount }}</p>\n        <div class=\"dislikeButton\" alt=\"like\" :class=\"disliked?'bg-danger' : ''\" @click=\"dislikeComment\"></div>\n        <p class=\"likeText\" :class=\"disliked?'text-danger' : 'text-light'\" v-if=\"dislikeCount\">\n          {{ dislikeCount }}\n        </p>\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  props: [\"username\", \"comment\", \"likedBy\", \"dislikedBy\", \"id\"],\n  setup(props) {\n    const store = useStore();\n    const route = useRoute();\n    const likeCount = computed(() => {\n      return props.likedBy.length - 1;\n    });\n    const dislikeCount = computed(() => {\n      return props.dislikedBy.length - 1;\n    });\n    const ProfileLetter = ref(props.username);\n    ProfileLetter.value = ProfileLetter.value[0].toUpperCase();\n\n    \n    const liked = ref(false);\n    \n    async function likeComment() {\n      if(store.getters.getUserName == \"\") {\n        alert(\"Please try logging in first\");\n        return;\n      }\n      await store.dispatch(\"likeComment\", props.id);\n      await store.dispatch(\"loadComments\", route.params.Nid);\n    }\n\n    const disliked = ref(false);\n\n    async function dislikeComment() {\n      if(store.getters.getUserName == \"\") {\n        alert(\"Please try logging in first\");\n        return;\n      }\n      await store.dispatch(\"dislikeComment\", props.id);\n      store.dispatch(\"loadComments\", route.params.Nid);\n    }\n\n    onMounted(() => {\n      if(props.likedBy.find(lB => lB == localStorage.getItem('userId')) != undefined)\n        liked.value = true;\n      if(props.dislikedBy.find(lB => lB == localStorage.getItem('userId')) != undefined)\n        disliked.value = true;\n    })\n\n    return {\n      ProfileLetter,\n      likeComment,\n      likeCount,\n      dislikeCount,\n      dislikeComment,\n      liked,\n      disliked\n    };\n  },\n};\n</script>"]}]}